{% extends 'base.html' %}
{% load cart_template_tags %}

{% block title %}Profile {% endblock %}

{% block content %}

{% if request.user.is_authenticated %}
<div class="row">
    <div class="col">
        <h3 class="mt-3">
            {{ request.user|capfirst }}'s Profile {% if verified is True %}<i class="fas fa-check-circle fa-xs text-primary"></i>{% endif %}
        </h3>
    </div>
</div>
<div class="row">
    <div class="col">
        <div class="card mb-3">
            <div class="card-body">
                <div class="row">
                    <div class="col-3">
                        {% if avatar %}
                            <!--Render avatar photo here-->
                        {% else %}
                            <i class="fas fa-7x fa-user-circle"></i>
                        {% endif %}
                    </div>
                    <div class="col-9">
                        <h4>Manage Profile</h4>
                        <h5>Store Name: {{ profile.store_name }}</h5>
                        <h5>Store Balance: $</h5>
                        <button class="button btn btn-primary btn-sm">Change Avatar Photo</button>
                        <button class="button btn btn-primary btn-sm">View Seller Profile</button>
                        <button class="button btn btn-danger btn-sm">Delete Account</button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <h4>Default Shipping Details:</h4>
                        <table class="table">
                            <tr>
                                <td>Email Address: {{ profile.default_email }}</td>
                            </tr>
                            <tr>
                                <td>Phone Number: {{ profile.default_phone }}</td>
                            </tr>
                            <tr>
                                <td>Street Address: {{ profile.default_address1 }}</td>
                            </tr>
                            {% if profile.default_address2 %}
                            <tr>
                                <td>Street Address (cont.): {{ profile.default_address2 }}</td>
                            </tr>
                            {% endif %}
                            <tr>
                                <td>City: {{ profile.default_city }}</td>
                            </tr>
                            <tr>
                                <td>State: {{ profile.default_state }}</td>
                            </tr>
                            <tr>
                                <td>Zipcode: {{ profile.default_zipcode }}</td>
                            </tr>
                            <tr>
                                <td>Country: {{ profile.default_country }}</td>
                            </tr>
                        </table>
                        <!--Shipping info table here -->
                        <button class="button btn btn-primary">Edit Shipping Details</button>
                    </div>
            </div>
        </div>
    </div>
</div>
<div class="row" id="order-history-table-container" data-url="{% url 'profiles:orderhistory' %}">
    {% include 'order-history.html' %}
</div>
{% else %}
    <h3> TEST - NOT LOGGED IN </h3>
{% endif %}

{% endblock %}